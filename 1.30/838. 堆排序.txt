#include<bits/stdc++.h>
using namespace std;

int h[100010];
int cnt;
void adjust(int u)
{
    int t = u;
    if(2*u <= cnt && h[2*u] < h[t]) t = u*2;
    if(2*u+1 <= cnt && h[2*u+1] < h[t]) t = u*2+1;
    if(u!=t){//如果调整了就交换二者的位置进行递归直到调整成功为止  每个if最多触发一次
        swap(h[t],h[u]);
        adjust(t);
    }
}

int main()
{
    int n,m;
    cin >> n >> m;
    for(int i=1;i<=n;i++){
        cin >> h[i];
    }
    cnt = n;
    for(int i=n/2;i;i--){//初始化从一半开始调整
        adjust(i);
    }
    while(m--){
        cout << h[1] << " ";
        h[1] = h[cnt--];
        adjust(1);//1这里指的是用数组模拟堆的位置 从1开始到n，cnt记录堆的元素个数，每次把堆底放到堆顶调整
    }
    return 0;
}