#include<bits/stdc++.h>
using namespace std;
int bfs(string start)
{
    int dx[4] = {-1,0,1,0},dy[4] = {0,1,0,-1};
    string end = "12345678x";
    queue<string> q;
    unordered_map<string,int> d;
    q.push(start);
    d[start] = 0;
    while(!q.empty()){
        auto t = q.front();
        int dis = d[t];
        q.pop();
        if(t == end) return dis;
        // cout << t << endl;
        //状态转移
        int k = t.find('x');//find返回的是x所在的位置
        int x = k/3,y = k % 3;//二维映射一维坐标
        for(int i=0;i<4;i++){
            int a = x+dx[i];
            int b = y+dy[i];
            
            if(a>=0 && a<3 && b>=0 && b<3){
                swap(t[k],t[3*a+b]);//二维映射一维坐标
                if(!d.count(t))//判断d中是否有t，与判断距离数组中是否为-1相同，表示最近的距离也就是第一次距离
                {
                    d[t] = dis+1;
                    q.push(t);
                }
                swap(t[k],t[3*a+b]);//还原
            }
        }
    }
    return -1;
}

int main()
{
    string start;
    for(int i=0;i<9;i++){
        char c;
        cin >> c;
        start+=c;
    }
    cout << bfs(start) << endl;
    return 0;
}